{"version":3,"file":"index.js","sources":["pages/index/index.vue","D:/ -- HBuilderX/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n  \n  <view class=\"search-box\">\n    <input \n      type=\"text\" \n      v-model=\"searchText\"\n      placeholder=\"🔍搜索卡片\" \n      class=\"search-input\"\n      @confirm=\"goToSearch\"\n      confirm-type=\"search\"\n    />\n  </view>\n  \n  <view class=\"BigTitle\">\n    热门\n  </view>\n  \n  <view class=\"content\">\n    <!-- 循环渲染商品卡片 -->\n    <view class=\"goods-list\">\n      <GoodsCard \n        v-for=\"(item, index) in goodsList.slice(0, 9)\" \n        :key=\"index\" \n        :goods=\"item\"\n      />\n    </view>\n  </view>\n</template>\n\n<script>\n// 引入商品卡片组件\nimport GoodsCard from \"@/pages/index/GoodsCard.vue\";\n\nexport default {\n  components: {\n    GoodsCard\n  },\n  data() {\n    return {\n      searchText: '', \n      goodsList: [] ,\n    };\n  },\r\n  onShow() {\n    this.getTopCards();\n  },\n  methods: {\r\n\t  logCardId(id) {\r\n\t        console.log('点击的卡片ID:', id, '类型:', typeof id);\r\n\t      },\n    // 搜索页面的方法\n    goToSearch() {\n      if (this.searchText.trim()) {\n        uni.navigateTo({\n          url: `/pages/Search/Search?keyword=${encodeURIComponent(this.searchText.trim())}&isFromCollect=0`\n        });\n      }\n    },\r\n\t\n    \n    //获取热门卡片数据\n    getTopCards() {\n      uni.request({\n        url: 'http://127.0.0.1:8080/cards/get/top', \n        method: 'GET',\n        success: (res) => {\n          if (res.data.code === 0) {\r\n\t\t\tthis.goodsList = res.data.data.map(item => ({\r\n\t\t\t          ...item,\r\n\t\t\t          id: BigInt(item.id)  \r\n\t\t\t        }));\n          } else {\n            uni.showToast({\n              title: '获取数据失败',\n              icon: 'none'\n            });\n          }\n        },\n        fail: (err) => {\n          console.error('请求失败:', err);\n          uni.showToast({\n            title: '网络请求失败',\n            icon: 'none'\n          });\n        }\n      });\n    },\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.header-buttons {\n  padding: 20rpx;\n  background-color: #ffffff;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.add-button {\n  background-color: #007aff;\n  color: white;\n  border: none;\n  border-radius: 10rpx;\n  padding: 10rpx 20rpx;\n  font-size: 28rpx;\n}\n\n.search-box {\n  padding: 20rpx 30rpx;\n  background-color: #ffffff;\n}\n\n.search-input {\n  width: 90%;\n  height: 70rpx;\n  background-color: #f5f5f5;\n  border-radius: 35rpx;\n  padding: 0 30rpx;\n  font-size: 28rpx;\n  color: #333;\n}\n\n.content {\n  padding: 16rpx;\n  background-color: #f5f5f5;\n}\n\n.BigTitle {\n  font-size: 60rpx;           \n  font-weight: bold;         \n  color: #333;\n  margin-left: 10px;\n  text-align: left;\n  line-height: 64rpx;         \n  display: flex;              \n  align-items: center;        \n  justify-content: flex-start;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.goods-list {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n}\n</style>","import MiniProgramPage from 'F:/uni-app/Newocg/ocg/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA+BA,kBAAkB,MAAW;AAE7B,MAAK,YAAU;AAAA,EACb,YAAY;AAAA,IACV;AAAA,EACD;AAAA,EACD,OAAO;AACL,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,WAAW,CAAG;AAAA;EAEjB;AAAA,EACD,SAAS;AACP,SAAK,YAAW;AAAA,EACjB;AAAA,EACD,SAAS;AAAA,IACR,UAAU,IAAI;AACRA,0BAAA,MAAA,OAAA,+BAAY,YAAY,IAAI,OAAO,OAAO,EAAE;AAAA,IAC7C;AAAA;AAAA,IAEJ,aAAa;AACX,UAAI,KAAK,WAAW,QAAQ;AAC1BA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK,gCAAgC,mBAAmB,KAAK,WAAW,KAAI,CAAE,CAAC;AAAA,QACjF,CAAC;AAAA,MACH;AAAA,IACD;AAAA;AAAA,IAID,cAAc;AACZA,oBAAAA,MAAI,QAAQ;AAAA,QACV,KAAK;AAAA,QACL,QAAQ;AAAA,QACR,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,KAAK,SAAS,GAAG;AAChC,iBAAK,YAAY,IAAI,KAAK,KAAK,IAAI,WAAS;AAAA,cAClC,GAAG;AAAA,cACH,IAAI,OAAO,KAAK,EAAE;AAAA,YACnB,EAAC;AAAA,iBACI;AACLA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YACR,CAAC;AAAA,UACH;AAAA,QACD;AAAA,QACD,MAAM,CAAC,QAAQ;AACbA,wBAAc,MAAA,MAAA,SAAA,+BAAA,SAAS,GAAG;AAC1BA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACR,CAAC;AAAA,QACH;AAAA,MACF,CAAC;AAAA,IACF;AAAA,EACH;AACF;;;;;;;;;;;;;;;;;;;;;;ACvFA,GAAG,WAAW,eAAe;"}